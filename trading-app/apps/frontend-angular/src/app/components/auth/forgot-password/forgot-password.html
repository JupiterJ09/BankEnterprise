<div class="auth-container">
  
  <div class="image-side">
    <div class="overlay">
      <h1>Seguridad Primero</h1>
      <p>Protegemos tu cuenta con los más altos estándares.</p>
    </div>
  </div>

  <div class="form-side">
    <div class="form-wrapper">
      
      <ng-container *ngIf="!isSuccess">
        <h2>Recuperar Contraseña</h2>
        <p class="subtitle">Ingresa tu correo y te enviaremos instrucciones.</p>

        <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
          
          <div class="form-group">
            <label>Correo Electrónico</label>
            <input type="email" formControlName="email" placeholder="ejemplo@correo.com"
                   [class.error]="forgotForm.get('email')?.invalid && forgotForm.get('email')?.touched">
            
            <span class="error-msg" *ngIf="forgotForm.get('email')?.hasError('email') && forgotForm.get('email')?.touched">
              Correo inválido
            </span>
          </div>

          <button type="submit" [disabled]="forgotForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Enviando...' : 'Enviar Enlace' }}
          </button>

        </form>
        
        <p class="footer-text">
          <a routerLink="/login">← Volver al Login</a>
        </p>
      </ng-container>

      <div class="success-message" *ngIf="isSuccess">
        <div class="icon-circle">
          <span class="material-symbols-rounded">mark_email_read</span>
        </div>
        <h3>¡Correo Enviado!</h3>
        <p>Si el correo existe en nuestro sistema, recibirás las instrucciones para restablecer tu contraseña en unos minutos.</p>
        
        <button class="btn-outline" routerLink="/login">Volver al Login</button>
      </div>

    </div>
  </div>
</div>